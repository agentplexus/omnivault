{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"OmniVault","text":"<p>OmniVault is a unified Go library for secret management across multiple providers. It provides a single interface for accessing secrets from password managers, cloud secret managers, enterprise vaults, and local storage.</p>"},{"location":"#features","title":"Features","text":"<ul> <li>Unified Interface - Single API for all secret storage backends</li> <li>Extensible Architecture - Add custom providers as separate Go modules without modifying the core library</li> <li>URI-Based Resolution - Reference secrets using URIs like <code>op://vault/item/field</code> or <code>aws-sm://secret-name</code></li> <li>Built-in Providers - Environment variables, file-based, and in-memory storage included</li> <li>Zero External Dependencies - Core library has no external dependencies beyond the standard library</li> <li>CLI Tool - Command-line interface with encrypted local storage and daemon architecture</li> <li>Secure Local Storage - AES-256-GCM encryption with Argon2id key derivation</li> </ul>"},{"location":"#two-ways-to-use-omnivault","title":"Two Ways to Use OmniVault","text":""},{"location":"#as-a-go-library","title":"As a Go Library","text":"<p>Import OmniVault into your Go application to access secrets from multiple providers:</p> <pre><code>import \"github.com/agentplexus/omnivault\"\n\nclient, _ := omnivault.NewClient(omnivault.Config{\n    Provider: omnivault.ProviderEnv,\n})\n\nsecret, _ := client.Get(ctx, \"API_KEY\")\nfmt.Println(secret.Value)\n</code></pre> <p>Get started with the library \u2192</p>"},{"location":"#as-a-cli-tool","title":"As a CLI Tool","text":"<p>Use the <code>omnivault</code> command-line tool for secure local secret management:</p> <pre><code>omnivault daemon start\nomnivault init\nomnivault set database/password\nomnivault get database/password\n</code></pre> <p>Get started with the CLI \u2192</p>"},{"location":"#quick-links","title":"Quick Links","text":"Section Description Installation Install the library or CLI Library Quick Start Get started with the Go library CLI Quick Start Get started with the CLI Providers Available secret providers Security CLI security model Changelog Release history"},{"location":"#license","title":"License","text":"<p>MIT License - see LICENSE for details.</p>"},{"location":"changelog/","title":"Changelog","text":"<p>All notable changes to this project will be documented in this file.</p> <p>The format is based on Keep a Changelog, and this project adheres to Semantic Versioning.</p>"},{"location":"changelog/#unreleased","title":"Unreleased","text":""},{"location":"changelog/#v020-2026-01-10","title":"v0.2.0 - 2026-01-10","text":""},{"location":"changelog/#security","title":"Security","text":"<ul> <li>Secrets encrypted at rest using AES-256-GCM</li> <li>Master password never stored, only used for key derivation</li> <li>Constant-time password verification to prevent timing attacks</li> <li>Keys zeroed from memory on vault lock</li> </ul>"},{"location":"changelog/#added","title":"Added","text":"<ul> <li>CLI tool (<code>cmd/omnivault</code>) for local secret management</li> <li>Encrypted local store with AES-256-GCM encryption (<code>internal/store</code>)</li> <li>Argon2id key derivation with OWASP-recommended parameters</li> <li>Daemon server with Unix socket IPC (<code>internal/daemon</code>)</li> <li>Daemon client library for IPC (<code>internal/client</code>)</li> <li>Platform-specific path configuration (<code>internal/config</code>)</li> <li>Auto-lock with configurable inactivity timeout (default: 15 minutes)</li> <li>Master password change with automatic re-encryption</li> <li>CLI commands: <code>init</code>, <code>unlock</code>, <code>lock</code>, <code>status</code>, <code>get</code>, <code>set</code>, <code>list</code>, <code>delete</code></li> <li>Daemon commands: <code>daemon start</code>, <code>daemon stop</code>, <code>daemon status</code>, <code>daemon run</code></li> <li>Secure password input without terminal echo</li> <li>Integration tests for daemon and encrypted store</li> </ul>"},{"location":"changelog/#changed","title":"Changed","text":"<ul> <li>Go version updated to 1.24.0</li> </ul>"},{"location":"changelog/#v010-2025-01-01","title":"v0.1.0 - 2025-01-01","text":""},{"location":"changelog/#added_1","title":"Added","text":"<ul> <li>Core <code>vault.Vault</code> interface for secret management</li> <li>Built-in providers: environment variables, file-based, in-memory</li> <li>URI-based secret resolution with <code>Resolver</code></li> <li>Client API with <code>Get</code>, <code>Set</code>, <code>Delete</code>, <code>List</code>, <code>Exists</code> operations</li> <li>Extensible provider architecture for external modules</li> <li>Secret metadata support with tags and timestamps</li> <li>Multi-field secrets support</li> </ul>"},{"location":"installation/","title":"Installation","text":""},{"location":"installation/#go-library","title":"Go Library","text":"<p>Add OmniVault to your Go project:</p> <pre><code>go get github.com/agentplexus/omnivault\n</code></pre>"},{"location":"installation/#requirements","title":"Requirements","text":"<ul> <li>Go 1.22.0 or later</li> </ul>"},{"location":"installation/#optional-provider-modules","title":"Optional Provider Modules","text":"<p>Install official provider modules as needed:</p> <pre><code># AWS Secrets Manager and Parameter Store\ngo get github.com/agentplexus/omnivault-aws\n\n# OS Keyring (macOS Keychain, Windows Credential Manager, Linux Secret Service)\ngo get github.com/agentplexus/omnivault-keyring\n</code></pre>"},{"location":"installation/#cli-tool","title":"CLI Tool","text":"<p>Install the <code>omnivault</code> command-line tool:</p> <pre><code>go install github.com/agentplexus/omnivault/cmd/omnivault@latest\n</code></pre>"},{"location":"installation/#verify-installation","title":"Verify Installation","text":"<pre><code>omnivault version\n</code></pre>"},{"location":"installation/#requirements_1","title":"Requirements","text":"<ul> <li>Go 1.24.0 or later (for building)</li> <li>macOS, Linux, or Windows</li> </ul>"},{"location":"installation/#platform-specific-notes","title":"Platform-Specific Notes","text":"macOS / LinuxWindows <p>The daemon communicates via Unix socket at <code>~/.omnivault/omnivaultd.sock</code>.</p> <p>Currently uses TCP on localhost. Named pipe support is planned.</p>"},{"location":"installation/#building-from-source","title":"Building from Source","text":"<p>Clone the repository and build:</p> <pre><code>git clone https://github.com/agentplexus/omnivault.git\ncd omnivault\n\n# Build the CLI\ngo build -o omnivault ./cmd/omnivault\n\n# Run tests\ngo test -v ./...\n</code></pre>"},{"location":"cli/commands/","title":"CLI Commands Reference","text":"<p>Complete reference for all <code>omnivault</code> commands.</p>"},{"location":"cli/commands/#vault-commands","title":"Vault Commands","text":""},{"location":"cli/commands/#init","title":"init","text":"<p>Initialize a new vault with a master password.</p> <pre><code>omnivault init\n</code></pre> <ul> <li>Prompts for master password (minimum 8 characters)</li> <li>Prompts to confirm password</li> <li>Creates encrypted vault at <code>~/.omnivault/</code></li> <li>Vault is unlocked after initialization</li> </ul> <p>Requires Daemon</p> <p>The daemon must be running before initialization.</p>"},{"location":"cli/commands/#unlock","title":"unlock","text":"<p>Unlock the vault with the master password.</p> <pre><code>omnivault unlock\n</code></pre> <ul> <li>Prompts for master password</li> <li>Vault stays unlocked until locked or auto-lock timeout</li> </ul>"},{"location":"cli/commands/#lock","title":"lock","text":"<p>Lock the vault immediately.</p> <pre><code>omnivault lock\n</code></pre> <ul> <li>Clears encryption key from memory</li> <li>Secrets are inaccessible until unlocked</li> </ul>"},{"location":"cli/commands/#status","title":"status","text":"<p>Show vault and daemon status.</p> <pre><code>omnivault status\n</code></pre> <p>Example output:</p> <pre><code>Daemon: running\nUptime: 1h23m45s\nVault: unlocked\nSecrets: 12\nUnlocked at: 2024-01-15 09:00:00\n</code></pre> <p>Status fields:</p> Field Description Daemon <code>running</code> or <code>not running</code> Uptime Time since daemon started Vault <code>locked</code>, <code>unlocked</code>, or <code>not initialized</code> Secrets Number of stored secrets (when unlocked) Unlocked at Timestamp of last unlock"},{"location":"cli/commands/#secret-commands","title":"Secret Commands","text":""},{"location":"cli/commands/#get","title":"get","text":"<p>Retrieve a secret value.</p> <pre><code>omnivault get &lt;path&gt;\n</code></pre> <p>Arguments:</p> Argument Description <code>path</code> Secret path (e.g., <code>database/password</code>) <p>Examples:</p> <pre><code>omnivault get api/key\nomnivault get database/credentials\n</code></pre> <p>Output:</p> <ul> <li>Prints the secret value to stdout</li> <li>If the secret has fields, prints each field on a separate line</li> </ul>"},{"location":"cli/commands/#set","title":"set","text":"<p>Store a secret.</p> <pre><code>omnivault set &lt;path&gt; [value]\n</code></pre> <p>Arguments:</p> Argument Description <code>path</code> Secret path (e.g., <code>database/password</code>) <code>value</code> Optional secret value <p>If value is not provided, you'll be prompted to enter it (input is hidden).</p> <p>Examples:</p> <pre><code># Prompted input (recommended for sensitive values)\nomnivault set database/password\n\n# Direct value\nomnivault set config/timeout 30\n\n# Piped input\necho \"my-secret\" | omnivault set api/key\n</code></pre>"},{"location":"cli/commands/#list","title":"list","text":"<p>List all secrets or filter by prefix.</p> <pre><code>omnivault list [prefix]\n</code></pre> <p>Arguments:</p> Argument Description <code>prefix</code> Optional path prefix filter <p>Examples:</p> <pre><code># List all secrets\nomnivault list\n\n# List secrets under database/\nomnivault list database/\n</code></pre> <p>Output:</p> <pre><code>database/password (value+fields)\ndatabase/username\napi/key [production, v2]\nconfig/timeout\n\n4 secret(s)\n</code></pre> <p>Indicators:</p> <ul> <li><code>(value+fields)</code> - Secret has both value and fields</li> <li><code>(fields)</code> - Secret has only fields</li> <li><code>[tag1, tag2]</code> - Secret tags</li> </ul>"},{"location":"cli/commands/#delete","title":"delete","text":"<p>Delete a secret.</p> <pre><code>omnivault delete &lt;path&gt;\n</code></pre> <p>Aliases: <code>rm</code></p> <p>Arguments:</p> Argument Description <code>path</code> Secret path to delete <p>Prompts for confirmation before deletion.</p> <p>Examples:</p> <pre><code>omnivault delete api/old-key\nomnivault rm database/test\n</code></pre>"},{"location":"cli/commands/#daemon-commands","title":"Daemon Commands","text":""},{"location":"cli/commands/#daemon-start","title":"daemon start","text":"<p>Start the daemon in background.</p> <pre><code>omnivault daemon start\n</code></pre> <ul> <li>Starts the daemon as a background process</li> <li>Creates Unix socket at <code>~/.omnivault/omnivaultd.sock</code></li> <li>Writes PID to <code>~/.omnivault/omnivaultd.pid</code></li> </ul>"},{"location":"cli/commands/#daemon-stop","title":"daemon stop","text":"<p>Stop the daemon.</p> <pre><code>omnivault daemon stop\n</code></pre> <ul> <li>Locks the vault before stopping</li> <li>Removes socket and PID files</li> </ul>"},{"location":"cli/commands/#daemon-status","title":"daemon status","text":"<p>Show daemon status.</p> <pre><code>omnivault daemon status\n</code></pre>"},{"location":"cli/commands/#daemon-run","title":"daemon run","text":"<p>Run the daemon in foreground.</p> <pre><code>omnivault daemon run\n</code></pre> <p>Useful for debugging. Press Ctrl+C to stop.</p>"},{"location":"cli/commands/#other-commands","title":"Other Commands","text":""},{"location":"cli/commands/#version","title":"version","text":"<p>Show version information.</p> <pre><code>omnivault version\n</code></pre>"},{"location":"cli/commands/#help","title":"help","text":"<p>Show help information.</p> <pre><code>omnivault help\nomnivault -h\nomnivault --help\n</code></pre>"},{"location":"cli/commands/#exit-codes","title":"Exit Codes","text":"Code Description 0 Success 1 Error (message printed to stderr)"},{"location":"cli/commands/#environment-variables","title":"Environment Variables","text":"<p>Currently, the CLI does not use environment variables for configuration. All settings use defaults:</p> Setting Default Config directory <code>~/.omnivault/</code> Auto-lock timeout 15 minutes"},{"location":"cli/daemon/","title":"Daemon Architecture","text":"<p>The OmniVault CLI uses a daemon (background service) architecture for secure secret management.</p>"},{"location":"cli/daemon/#why-a-daemon","title":"Why a Daemon?","text":"<p>The daemon architecture provides several security benefits:</p> <ol> <li>Session-Based Unlock - Unlock once, access secrets multiple times without re-entering password</li> <li>Memory Protection - Encryption keys stay in daemon memory, not in CLI process</li> <li>Auto-Lock - Automatic locking after inactivity</li> <li>Single Point of Control - One process manages all vault access</li> </ol>"},{"location":"cli/daemon/#how-it-works","title":"How It Works","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     Unix Socket      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  omnivault  \u2502 \u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba \u2502  omnivaultd  \u2502\n\u2502    (CLI)    \u2502      HTTP/JSON       \u2502   (Daemon)   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                            \u2502\n                                            \u25bc\n                                     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                                     \u2502 ~/.omnivault \u2502\n                                     \u2502  vault.enc   \u2502\n                                     \u2502  vault.meta  \u2502\n                                     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <ol> <li>CLI sends commands to daemon via Unix socket</li> <li>Daemon holds encryption key in memory</li> <li>Daemon performs all cryptographic operations</li> <li>Files on disk are always encrypted</li> </ol>"},{"location":"cli/daemon/#communication","title":"Communication","text":""},{"location":"cli/daemon/#unix-socket","title":"Unix Socket","text":"<p>On macOS and Linux, the daemon listens on a Unix socket:</p> <pre><code>~/.omnivault/omnivaultd.sock\n</code></pre> <p>Unix sockets provide:</p> <ul> <li>Local-only access (no network exposure)</li> <li>File permission-based security</li> <li>Fast IPC performance</li> </ul>"},{"location":"cli/daemon/#http-api","title":"HTTP API","text":"<p>The daemon exposes an HTTP API over the socket:</p> Endpoint Method Description <code>/status</code> GET Daemon and vault status <code>/init</code> POST Initialize new vault <code>/unlock</code> POST Unlock vault <code>/lock</code> POST Lock vault <code>/secrets</code> GET List secrets <code>/secret/:path</code> GET Get secret <code>/secret/:path</code> PUT Set secret <code>/secret/:path</code> DELETE Delete secret <code>/stop</code> POST Stop daemon"},{"location":"cli/daemon/#lifecycle","title":"Lifecycle","text":""},{"location":"cli/daemon/#starting","title":"Starting","text":"<pre><code>omnivault daemon start\n</code></pre> <ol> <li>Checks if daemon is already running</li> <li>Starts new process in background</li> <li>Creates Unix socket</li> <li>Writes PID file</li> </ol>"},{"location":"cli/daemon/#running","title":"Running","text":"<p>While running, the daemon:</p> <ul> <li>Listens for CLI commands</li> <li>Manages vault lock state</li> <li>Resets auto-lock timer on activity</li> <li>Holds encryption key in memory (when unlocked)</li> </ul>"},{"location":"cli/daemon/#stopping","title":"Stopping","text":"<pre><code>omnivault daemon stop\n</code></pre> <ol> <li>Sends stop command via socket</li> <li>Daemon locks vault (clears key from memory)</li> <li>Daemon shuts down HTTP server</li> <li>Removes socket and PID files</li> </ol>"},{"location":"cli/daemon/#graceful-shutdown","title":"Graceful Shutdown","text":"<p>On SIGINT or SIGTERM:</p> <ol> <li>Vault is locked</li> <li>Active requests complete</li> <li>Socket is removed</li> <li>Process exits</li> </ol>"},{"location":"cli/daemon/#auto-lock","title":"Auto-Lock","text":"<p>The daemon automatically locks the vault after a period of inactivity.</p>"},{"location":"cli/daemon/#how-it-works_1","title":"How It Works","text":"<ul> <li>Timer starts when vault is unlocked</li> <li>Each vault operation resets the timer</li> <li>When timer expires, vault is locked</li> <li>Default timeout: 15 minutes</li> </ul>"},{"location":"cli/daemon/#activity-reset","title":"Activity Reset","text":"<p>These operations reset the auto-lock timer:</p> <ul> <li><code>get</code> - Reading a secret</li> <li><code>set</code> - Writing a secret</li> <li><code>delete</code> - Deleting a secret</li> <li><code>list</code> - Listing secrets</li> </ul> <p>These operations do NOT reset the timer:</p> <ul> <li><code>status</code> - Checking status</li> <li><code>lock</code> - Manual lock</li> <li><code>unlock</code> - Already unlocked</li> </ul>"},{"location":"cli/daemon/#files","title":"Files","text":"<p>The daemon creates and manages these files:</p> File Purpose Permissions <code>~/.omnivault/</code> Config directory 700 <code>vault.enc</code> Encrypted secrets 600 <code>vault.meta</code> Salt and parameters 600 <code>omnivaultd.sock</code> Unix socket 600 <code>omnivaultd.pid</code> Daemon PID 644"},{"location":"cli/daemon/#platform-differences","title":"Platform Differences","text":""},{"location":"cli/daemon/#macos-linux","title":"macOS / Linux","text":"<ul> <li>Uses Unix socket at <code>~/.omnivault/omnivaultd.sock</code></li> <li>Standard Unix permissions apply</li> <li>Process daemonization via fork</li> </ul>"},{"location":"cli/daemon/#windows","title":"Windows","text":"<ul> <li>Currently uses TCP on localhost (temporary)</li> <li>Named pipe support planned</li> <li>Process started with <code>Setpgid</code></li> </ul>"},{"location":"cli/daemon/#debugging","title":"Debugging","text":"<p>Run the daemon in foreground to see logs:</p> <pre><code>omnivault daemon run\n</code></pre> <p>Example output:</p> <pre><code>Starting OmniVault daemon...\nINFO daemon started socket=/Users/you/.omnivault/omnivaultd.sock\nINFO vault unlocked\nINFO secret accessed path=database/password\nINFO vault auto-locked due to inactivity\n</code></pre>"},{"location":"cli/daemon/#security-considerations","title":"Security Considerations","text":""},{"location":"cli/daemon/#socket-permissions","title":"Socket Permissions","text":"<p>The Unix socket is created with permissions <code>600</code>:</p> <ul> <li>Only the owner can connect</li> <li>Other users cannot access the daemon</li> </ul>"},{"location":"cli/daemon/#memory-security","title":"Memory Security","text":"<p>When locked:</p> <ul> <li>Encryption key is zeroed from memory</li> <li>No secrets can be decrypted</li> <li>Vault file remains encrypted</li> </ul>"},{"location":"cli/daemon/#no-network-access","title":"No Network Access","text":"<p>The daemon:</p> <ul> <li>Never listens on network interfaces</li> <li>Only accepts local Unix socket connections</li> <li>Cannot be accessed remotely</li> </ul>"},{"location":"cli/quickstart/","title":"CLI Quick Start","text":"<p>This guide shows you how to use the <code>omnivault</code> command-line tool for secure local secret management.</p>"},{"location":"cli/quickstart/#installation","title":"Installation","text":"<pre><code>go install github.com/agentplexus/omnivault/cmd/omnivault@latest\n</code></pre> <p>Verify the installation:</p> <pre><code>omnivault version\n</code></pre>"},{"location":"cli/quickstart/#getting-started","title":"Getting Started","text":""},{"location":"cli/quickstart/#1-start-the-daemon","title":"1. Start the Daemon","text":"<p>The CLI requires a background daemon for secure operations:</p> <pre><code>omnivault daemon start\n</code></pre>"},{"location":"cli/quickstart/#2-initialize-your-vault","title":"2. Initialize Your Vault","text":"<p>Create a new vault with a master password:</p> <pre><code>omnivault init\n</code></pre> <p>You'll be prompted to enter and confirm a master password (minimum 8 characters).</p> <p>Remember Your Password</p> <p>The master password is never stored. If you forget it, you cannot recover your secrets.</p>"},{"location":"cli/quickstart/#3-store-a-secret","title":"3. Store a Secret","text":"<pre><code># Prompted for value (hidden input)\nomnivault set database/password\n\n# Or provide value directly\nomnivault set api/key sk-12345\n</code></pre>"},{"location":"cli/quickstart/#4-retrieve-a-secret","title":"4. Retrieve a Secret","text":"<pre><code>omnivault get database/password\n</code></pre>"},{"location":"cli/quickstart/#5-list-secrets","title":"5. List Secrets","text":"<pre><code># List all secrets\nomnivault list\n\n# List secrets with a prefix\nomnivault list database/\n</code></pre>"},{"location":"cli/quickstart/#6-delete-a-secret","title":"6. Delete a Secret","text":"<pre><code>omnivault delete database/password\n</code></pre> <p>You'll be asked to confirm before deletion.</p>"},{"location":"cli/quickstart/#session-management","title":"Session Management","text":""},{"location":"cli/quickstart/#lock-the-vault","title":"Lock the Vault","text":"<p>Lock the vault to protect your secrets:</p> <pre><code>omnivault lock\n</code></pre>"},{"location":"cli/quickstart/#unlock-the-vault","title":"Unlock the Vault","text":"<p>Unlock to access secrets again:</p> <pre><code>omnivault unlock\n</code></pre>"},{"location":"cli/quickstart/#check-status","title":"Check Status","text":"<p>View vault and daemon status:</p> <pre><code>omnivault status\n</code></pre> <p>Example output:</p> <pre><code>Daemon: running\nUptime: 2h30m15s\nVault: unlocked\nSecrets: 5\nUnlocked at: 2024-01-15 10:30:00\n</code></pre>"},{"location":"cli/quickstart/#auto-lock","title":"Auto-Lock","text":"<p>The vault automatically locks after 15 minutes of inactivity. Each secret operation resets the timer.</p>"},{"location":"cli/quickstart/#daemon-management","title":"Daemon Management","text":"<pre><code># Start daemon in background\nomnivault daemon start\n\n# Stop the daemon\nomnivault daemon stop\n\n# Check daemon status\nomnivault daemon status\n\n# Run in foreground (for debugging)\nomnivault daemon run\n</code></pre>"},{"location":"cli/quickstart/#typical-workflow","title":"Typical Workflow","text":"<pre><code># First time setup\nomnivault daemon start\nomnivault init\n\n# Daily usage\nomnivault unlock\nomnivault get my/secret\n# ... work ...\nomnivault lock\n\n# Or let auto-lock handle it\n</code></pre>"},{"location":"cli/quickstart/#next-steps","title":"Next Steps","text":"<ul> <li>Commands Reference - All CLI commands</li> <li>Daemon Architecture - How the daemon works</li> <li>Security Model - Encryption and security details</li> </ul>"},{"location":"cli/security/","title":"Security Model","text":"<p>OmniVault uses industry-standard cryptographic practices to protect your secrets.</p>"},{"location":"cli/security/#encryption","title":"Encryption","text":""},{"location":"cli/security/#algorithm","title":"Algorithm","text":"<p>AES-256-GCM (Galois/Counter Mode)</p> <ul> <li>256-bit key size</li> <li>Authenticated encryption (integrity + confidentiality)</li> <li>Random 12-byte nonce per secret</li> <li>NIST-approved algorithm</li> </ul>"},{"location":"cli/security/#key-derivation","title":"Key Derivation","text":"<p>Argon2id - Winner of the Password Hashing Competition</p> Parameter Value Purpose Time 3 iterations CPU cost Memory 64 MB Memory cost (GPU resistance) Threads 4 Parallelism Key Length 32 bytes 256-bit key Salt 32 bytes Random per vault <p>These parameters follow OWASP recommendations for password hashing.</p>"},{"location":"cli/security/#why-argon2id","title":"Why Argon2id?","text":"<p>Argon2id is resistant to:</p> <ul> <li>GPU attacks - High memory requirement makes parallel attacks expensive</li> <li>ASIC attacks - Memory-hard function is difficult to optimize in hardware</li> <li>Side-channel attacks - Data-independent memory access pattern</li> <li>Time-memory tradeoff - Hybrid approach resists both</li> </ul>"},{"location":"cli/security/#password-handling","title":"Password Handling","text":""},{"location":"cli/security/#never-stored","title":"Never Stored","text":"<p>The master password is:</p> <ul> <li>Used only to derive the encryption key</li> <li>Never written to disk</li> <li>Never logged or displayed</li> <li>Cleared from memory after key derivation</li> </ul>"},{"location":"cli/security/#verification","title":"Verification","text":"<p>Password correctness is verified by:</p> <ol> <li>Deriving key from entered password</li> <li>Attempting to decrypt a known \"magic\" value</li> <li>Using constant-time comparison to prevent timing attacks</li> </ol> <pre><code>// Constant-time comparison prevents timing attacks\nsubtle.ConstantTimeCompare(decrypted, expectedMagic)\n</code></pre>"},{"location":"cli/security/#minimum-requirements","title":"Minimum Requirements","text":"<ul> <li>Minimum 8 characters</li> <li>No maximum length</li> <li>Any characters allowed</li> </ul> <p>Strong Passwords</p> <p>Use a passphrase of 4+ random words for better security and memorability.</p>"},{"location":"cli/security/#storage","title":"Storage","text":""},{"location":"cli/security/#file-structure","title":"File Structure","text":"<pre><code>~/.omnivault/\n\u251c\u2500\u2500 vault.enc           # Encrypted secrets\n\u251c\u2500\u2500 vault.meta          # Unencrypted metadata\n\u251c\u2500\u2500 omnivaultd.sock     # Unix socket (runtime)\n\u2514\u2500\u2500 omnivaultd.pid      # PID file (runtime)\n</code></pre>"},{"location":"cli/security/#vaultmeta-unencrypted","title":"vault.meta (Unencrypted)","text":"<p>Contains non-sensitive metadata:</p> <pre><code>{\n  \"version\": 1,\n  \"created_at\": \"2024-01-15T10:00:00Z\",\n  \"salt\": \"base64-encoded-32-bytes\",\n  \"argon2_params\": {\n    \"time\": 3,\n    \"memory\": 65536,\n    \"threads\": 4,\n    \"key_len\": 32\n  },\n  \"verification\": \"base64-encrypted-magic\"\n}\n</code></pre> <p>The <code>verification</code> field is an encrypted known value used to verify passwords.</p>"},{"location":"cli/security/#vaultenc-encrypted","title":"vault.enc (Encrypted)","text":"<p>Contains encrypted secrets:</p> <pre><code>{\n  \"secrets\": {\n    \"path/to/secret\": \"base64-nonce+ciphertext+tag\"\n  }\n}\n</code></pre> <p>Each secret value is:</p> <ol> <li>Serialized to JSON</li> <li>Encrypted with AES-256-GCM</li> <li>Base64 encoded</li> </ol>"},{"location":"cli/security/#file-permissions","title":"File Permissions","text":"File Mode Description <code>~/.omnivault/</code> 700 Owner only <code>vault.enc</code> 600 Owner read/write <code>vault.meta</code> 600 Owner read/write <code>omnivaultd.sock</code> 600 Owner only"},{"location":"cli/security/#memory-security","title":"Memory Security","text":""},{"location":"cli/security/#key-handling","title":"Key Handling","text":"<p>When locked:</p> <pre><code>// Zero out key before releasing\nfor i := range key {\n    key[i] = 0\n}\nkey = nil\n</code></pre>"},{"location":"cli/security/#daemon-isolation","title":"Daemon Isolation","text":"<ul> <li>Encryption key exists only in daemon memory</li> <li>CLI never sees the raw key</li> <li>Key is zeroed on lock or shutdown</li> </ul>"},{"location":"cli/security/#attack-resistance","title":"Attack Resistance","text":""},{"location":"cli/security/#brute-force","title":"Brute Force","text":"<p>Argon2id parameters make brute force expensive:</p> <ul> <li>Each attempt requires 64 MB RAM</li> <li>Each attempt takes ~1 second on modern hardware</li> <li>Cannot be parallelized efficiently</li> </ul>"},{"location":"cli/security/#offline-attacks","title":"Offline Attacks","text":"<p>If an attacker obtains <code>vault.enc</code> and <code>vault.meta</code>:</p> <ul> <li>Must still brute force the password</li> <li>Argon2id parameters are public but still protective</li> <li>Strong password makes attack infeasible</li> </ul>"},{"location":"cli/security/#replay-attacks","title":"Replay Attacks","text":"<p>Each encryption uses a random nonce:</p> <ul> <li>Same plaintext produces different ciphertext</li> <li>Replaying old ciphertext is detectable (wrong nonce)</li> </ul>"},{"location":"cli/security/#tampering","title":"Tampering","text":"<p>AES-GCM provides authentication:</p> <ul> <li>Any modification to ciphertext fails decryption</li> <li>Cannot alter secrets without the key</li> </ul>"},{"location":"cli/security/#best-practices","title":"Best Practices","text":""},{"location":"cli/security/#password-selection","title":"Password Selection","text":"<ul> <li>Use a strong, unique password</li> <li>Consider a passphrase (4+ random words)</li> <li>Use a password manager for the master password</li> </ul>"},{"location":"cli/security/#physical-security","title":"Physical Security","text":"<ul> <li>Lock your workstation when away</li> <li>Use full disk encryption</li> <li>Don't leave vault unlocked unnecessarily</li> </ul>"},{"location":"cli/security/#backup","title":"Backup","text":"<ul> <li>Back up <code>~/.omnivault/</code> directory</li> <li>Store backups securely (encrypted)</li> <li>Remember: backup is useless without password</li> </ul>"},{"location":"cli/security/#regular-rotation","title":"Regular Rotation","text":"<p>Consider changing your master password periodically:</p> <pre><code># Future feature\nomnivault change-password\n</code></pre>"},{"location":"cli/security/#threat-model","title":"Threat Model","text":""},{"location":"cli/security/#protected-against","title":"Protected Against","text":"<ul> <li>Unauthorized file access (secrets encrypted)</li> <li>Memory dumps of CLI process (key in daemon)</li> <li>Network attacks (Unix socket only)</li> <li>Tampering (authenticated encryption)</li> <li>Brute force (Argon2id)</li> </ul>"},{"location":"cli/security/#not-protected-against","title":"Not Protected Against","text":"<ul> <li>Keyloggers capturing password</li> <li>Compromised daemon process</li> <li>Physical access to unlocked machine</li> <li>Forgotten password (no recovery)</li> <li>Sophisticated malware with root access</li> </ul>"},{"location":"cli/security/#comparison","title":"Comparison","text":"Feature OmniVault macOS Keychain 1Password Encryption AES-256-GCM AES-256-GCM AES-256-GCM KDF Argon2id PBKDF2 Argon2id Open Source Yes No No Local Only Yes Yes No Cross-Platform Yes macOS only Yes"},{"location":"library/client/","title":"Client API","text":"<p>The OmniVault client provides a high-level API for secret management.</p>"},{"location":"library/client/#creating-a-client","title":"Creating a Client","text":"<pre><code>// With a built-in provider\nclient, err := omnivault.NewClient(omnivault.Config{\n    Provider: omnivault.ProviderEnv,  // or ProviderFile, ProviderMemory\n})\n\n// With a custom provider\nclient, err := omnivault.NewClient(omnivault.Config{\n    CustomVault: myCustomProvider,\n})\n</code></pre> <p>Always Close</p> <p>Always call <code>client.Close()</code> when done to release resources.</p>"},{"location":"library/client/#basic-operations","title":"Basic Operations","text":""},{"location":"library/client/#get","title":"Get","text":"<p>Retrieve a secret by path:</p> <pre><code>secret, err := client.Get(ctx, \"path/to/secret\")\nif err != nil {\n    if err == vault.ErrSecretNotFound {\n        // Secret doesn't exist\n    }\n    // Handle other errors\n}\n</code></pre>"},{"location":"library/client/#set","title":"Set","text":"<p>Store a secret:</p> <pre><code>secret := &amp;omnivault.Secret{\n    Value: \"my-secret-value\",\n}\nerr := client.Set(ctx, \"path/to/secret\", secret)\n</code></pre>"},{"location":"library/client/#delete","title":"Delete","text":"<p>Remove a secret:</p> <pre><code>err := client.Delete(ctx, \"path/to/secret\")\n</code></pre>"},{"location":"library/client/#exists","title":"Exists","text":"<p>Check if a secret exists:</p> <pre><code>exists, err := client.Exists(ctx, \"path/to/secret\")\n</code></pre>"},{"location":"library/client/#list","title":"List","text":"<p>List secrets by prefix:</p> <pre><code>paths, err := client.List(ctx, \"database/\")\n// Returns: [\"database/password\", \"database/username\", ...]\n</code></pre>"},{"location":"library/client/#convenience-methods","title":"Convenience Methods","text":""},{"location":"library/client/#getvalue","title":"GetValue","text":"<p>Get just the string value:</p> <pre><code>value, err := client.GetValue(ctx, \"API_KEY\")\n</code></pre>"},{"location":"library/client/#getfield","title":"GetField","text":"<p>Get a specific field from a multi-field secret:</p> <pre><code>password, err := client.GetField(ctx, \"database/credentials\", \"password\")\n</code></pre>"},{"location":"library/client/#setvalue","title":"SetValue","text":"<p>Set a simple string value:</p> <pre><code>err := client.SetValue(ctx, \"API_KEY\", \"sk-12345\")\n</code></pre>"},{"location":"library/client/#must-variants","title":"Must Variants","text":"<p>Variants that panic on error (useful for initialization):</p> <pre><code>// Panics if secret not found or error occurs\nsecret := client.MustGet(ctx, \"REQUIRED_SECRET\")\nvalue := client.MustGetValue(ctx, \"REQUIRED_VALUE\")\n</code></pre> <p>Use with Caution</p> <p>Must variants should only be used during application startup or in contexts where a missing secret is truly fatal.</p>"},{"location":"library/client/#secret-structure","title":"Secret Structure","text":"<pre><code>type Secret struct {\n    // Primary value\n    Value string\n\n    // Binary value (alternative to Value)\n    ValueBytes []byte\n\n    // Additional fields (for multi-field secrets)\n    Fields map[string]string\n\n    // Metadata\n    Metadata Metadata\n}\n\ntype Metadata struct {\n    // Custom tags\n    Tags map[string]string\n\n    // Timestamps (set automatically)\n    CreatedAt  *time.Time\n    ModifiedAt *time.Time\n}\n</code></pre>"},{"location":"library/client/#accessing-values","title":"Accessing Values","text":"<pre><code>secret, _ := client.Get(ctx, \"path\")\n\n// Primary value as string\nvalue := secret.String()\n\n// Primary value as bytes\nbytes := secret.Bytes()\n\n// Specific field\nfield := secret.GetField(\"username\")\n\n// Check if field exists\nif val, ok := secret.Fields[\"password\"]; ok {\n    // Use val\n}\n</code></pre>"},{"location":"library/client/#error-handling","title":"Error Handling","text":"<pre><code>secret, err := client.Get(ctx, \"path\")\nif err != nil {\n    switch err {\n    case vault.ErrSecretNotFound:\n        // Secret doesn't exist\n    case vault.ErrAccessDenied:\n        // Permission denied\n    default:\n        // Other error\n    }\n}\n</code></pre>"},{"location":"library/client/#provider-capabilities","title":"Provider Capabilities","text":"<p>Check what operations a provider supports:</p> <pre><code>caps := client.Capabilities()\n\nif caps.Write {\n    // Provider supports writing secrets\n}\n\nif caps.List {\n    // Provider supports listing secrets\n}\n</code></pre> <pre><code>type Capabilities struct {\n    Read       bool  // Can read secrets\n    Write      bool  // Can write secrets\n    Delete     bool  // Can delete secrets\n    List       bool  // Can list secrets\n    Binary     bool  // Supports binary values\n    MultiField bool  // Supports multiple fields per secret\n}\n</code></pre>"},{"location":"library/custom-providers/","title":"Custom Providers","text":"<p>Create your own secret provider by implementing the <code>vault.Vault</code> interface.</p>"},{"location":"library/custom-providers/#interface","title":"Interface","text":"<pre><code>package vault\n\ntype Vault interface {\n    // Get retrieves a secret by path\n    Get(ctx context.Context, path string) (*Secret, error)\n\n    // Set stores a secret at the given path\n    Set(ctx context.Context, path string, secret *Secret) error\n\n    // Delete removes a secret\n    Delete(ctx context.Context, path string) error\n\n    // Exists checks if a secret exists\n    Exists(ctx context.Context, path string) (bool, error)\n\n    // List returns paths matching the prefix\n    List(ctx context.Context, prefix string) ([]string, error)\n\n    // Name returns the provider name\n    Name() string\n\n    // Capabilities returns supported operations\n    Capabilities() Capabilities\n\n    // Close releases resources\n    Close() error\n}\n</code></pre>"},{"location":"library/custom-providers/#creating-a-provider-module","title":"Creating a Provider Module","text":""},{"location":"library/custom-providers/#1-create-a-new-go-module","title":"1. Create a new Go module","text":"<pre><code>mkdir omnivault-myprovider\ncd omnivault-myprovider\ngo mod init github.com/yourorg/omnivault-myprovider\n</code></pre>"},{"location":"library/custom-providers/#2-import-only-the-vault-package","title":"2. Import only the vault package","text":"<pre><code>// Only import the interface package - no dependency on full omnivault\ngo get github.com/agentplexus/omnivault/vault\n</code></pre>"},{"location":"library/custom-providers/#3-implement-the-interface","title":"3. Implement the interface","text":"<pre><code>package myprovider\n\nimport (\n    \"context\"\n    \"github.com/agentplexus/omnivault/vault\"\n)\n\ntype Provider struct {\n    client *MyBackendClient\n}\n\ntype Config struct {\n    APIKey   string\n    Endpoint string\n}\n\nfunc New(cfg Config) (vault.Vault, error) {\n    client, err := newBackendClient(cfg.APIKey, cfg.Endpoint)\n    if err != nil {\n        return nil, err\n    }\n    return &amp;Provider{client: client}, nil\n}\n\nfunc (p *Provider) Get(ctx context.Context, path string) (*vault.Secret, error) {\n    data, err := p.client.Fetch(ctx, path)\n    if err != nil {\n        if isNotFound(err) {\n            return nil, vault.ErrSecretNotFound\n        }\n        return nil, err\n    }\n\n    return &amp;vault.Secret{\n        Value: data.Value,\n        Fields: data.Fields,\n        Metadata: vault.Metadata{\n            CreatedAt: data.CreatedAt,\n        },\n    }, nil\n}\n\nfunc (p *Provider) Set(ctx context.Context, path string, secret *vault.Secret) error {\n    return p.client.Store(ctx, path, secret.Value, secret.Fields)\n}\n\nfunc (p *Provider) Delete(ctx context.Context, path string) error {\n    return p.client.Remove(ctx, path)\n}\n\nfunc (p *Provider) Exists(ctx context.Context, path string) (bool, error) {\n    _, err := p.client.Fetch(ctx, path)\n    if err != nil {\n        if isNotFound(err) {\n            return false, nil\n        }\n        return false, err\n    }\n    return true, nil\n}\n\nfunc (p *Provider) List(ctx context.Context, prefix string) ([]string, error) {\n    return p.client.ListKeys(ctx, prefix)\n}\n\nfunc (p *Provider) Name() string {\n    return \"myprovider\"\n}\n\nfunc (p *Provider) Capabilities() vault.Capabilities {\n    return vault.Capabilities{\n        Read:       true,\n        Write:      true,\n        Delete:     true,\n        List:       true,\n        Binary:     false,\n        MultiField: true,\n    }\n}\n\nfunc (p *Provider) Close() error {\n    return p.client.Close()\n}\n</code></pre>"},{"location":"library/custom-providers/#using-your-provider","title":"Using Your Provider","text":""},{"location":"library/custom-providers/#with-client","title":"With Client","text":"<pre><code>import (\n    \"github.com/agentplexus/omnivault\"\n    \"github.com/yourorg/omnivault-myprovider\"\n)\n\nprovider, _ := myprovider.New(myprovider.Config{\n    APIKey: \"...\",\n})\n\nclient, _ := omnivault.NewClient(omnivault.Config{\n    CustomVault: provider,\n})\n\nsecret, _ := client.Get(ctx, \"my/secret\")\n</code></pre>"},{"location":"library/custom-providers/#with-resolver","title":"With Resolver","text":"<pre><code>resolver := omnivault.NewResolver()\nresolver.Register(\"myprovider\", provider)\n\nvalue, _ := resolver.Resolve(ctx, \"myprovider://my/secret\")\n</code></pre>"},{"location":"library/custom-providers/#best-practices","title":"Best Practices","text":""},{"location":"library/custom-providers/#error-handling","title":"Error Handling","text":"<p>Return standard errors when applicable:</p> <pre><code>import \"github.com/agentplexus/omnivault/vault\"\n\n// Use standard errors\nif notFound {\n    return nil, vault.ErrSecretNotFound\n}\nif accessDenied {\n    return nil, vault.ErrAccessDenied\n}\n\n// Wrap backend errors\nreturn nil, fmt.Errorf(\"backend error: %w\", err)\n</code></pre>"},{"location":"library/custom-providers/#context-handling","title":"Context Handling","text":"<p>Respect context cancellation:</p> <pre><code>func (p *Provider) Get(ctx context.Context, path string) (*vault.Secret, error) {\n    select {\n    case &lt;-ctx.Done():\n        return nil, ctx.Err()\n    default:\n    }\n\n    // Proceed with operation...\n}\n</code></pre>"},{"location":"library/custom-providers/#resource-management","title":"Resource Management","text":"<p>Implement proper cleanup:</p> <pre><code>func (p *Provider) Close() error {\n    if p.client != nil {\n        return p.client.Close()\n    }\n    return nil\n}\n</code></pre>"},{"location":"library/custom-providers/#capability-declaration","title":"Capability Declaration","text":"<p>Be accurate about what your provider supports:</p> <pre><code>func (p *Provider) Capabilities() vault.Capabilities {\n    return vault.Capabilities{\n        Read:       true,   // Always true for a useful provider\n        Write:      false,  // Set false if read-only\n        Delete:     false,  // Set false if deletion not supported\n        List:       true,   // Set false if listing not supported\n        Binary:     true,   // Set true if ValueBytes is supported\n        MultiField: true,   // Set true if Fields map is supported\n    }\n}\n</code></pre>"},{"location":"library/custom-providers/#module-architecture","title":"Module Architecture","text":"<pre><code>omnivault-myprovider/\n\u251c\u2500\u2500 go.mod\n\u251c\u2500\u2500 go.sum\n\u251c\u2500\u2500 provider.go      # Main implementation\n\u251c\u2500\u2500 provider_test.go # Tests\n\u251c\u2500\u2500 config.go        # Configuration types\n\u251c\u2500\u2500 client.go        # Backend client (internal)\n\u2514\u2500\u2500 README.md        # Usage documentation\n</code></pre> <p>This architecture ensures:</p> <ul> <li>External providers don't bloat the core library with dependencies</li> <li>Providers can be versioned independently</li> <li>Users only install the providers they need</li> </ul>"},{"location":"library/providers/","title":"Providers","text":"<p>OmniVault supports multiple secret storage backends through providers.</p>"},{"location":"library/providers/#built-in-providers","title":"Built-in Providers","text":"<p>These providers are included in the core library with zero external dependencies.</p>"},{"location":"library/providers/#environment-variables","title":"Environment Variables","text":"<p>Read secrets from environment variables:</p> <pre><code>import \"github.com/agentplexus/omnivault/providers/env\"\n\nprovider := env.New()\n\n// Or use with client\nclient, _ := omnivault.NewClient(omnivault.Config{\n    Provider: omnivault.ProviderEnv,\n})\n</code></pre> Capability Supported Read Yes Write No Delete No List No <p>URI Scheme: <code>env://</code></p> <pre><code>resolver.Register(\"env\", env.New())\nvalue, _ := resolver.Resolve(ctx, \"env://API_KEY\")\n</code></pre>"},{"location":"library/providers/#file","title":"File","text":"<p>Read secrets from files:</p> <pre><code>import \"github.com/agentplexus/omnivault/providers/file\"\n\nprovider := file.New(file.Config{\n    BasePath: \"/etc/secrets\",\n})\n\n// Or use with client\nclient, _ := omnivault.NewClient(omnivault.Config{\n    Provider: omnivault.ProviderFile,\n})\n</code></pre> Capability Supported Read Yes Write Yes Delete Yes List Yes <p>URI Scheme: <code>file://</code></p> <pre><code>resolver.Register(\"file\", file.New(file.Config{BasePath: \"/etc/secrets\"}))\nvalue, _ := resolver.Resolve(ctx, \"file://database/password\")\n</code></pre>"},{"location":"library/providers/#memory","title":"Memory","text":"<p>In-memory storage, useful for testing:</p> <pre><code>import \"github.com/agentplexus/omnivault/providers/memory\"\n\n// Empty store\nprovider := memory.New()\n\n// Pre-populated store\nprovider := memory.NewWithSecrets(map[string]string{\n    \"api_key\": \"sk-12345\",\n    \"db_pass\": \"secret\",\n})\n</code></pre> Capability Supported Read Yes Write Yes Delete Yes List Yes <p>URI Scheme: <code>memory://</code></p>"},{"location":"library/providers/#official-provider-modules","title":"Official Provider Modules","text":"<p>First-party modules maintained alongside OmniVault. Install separately to avoid dependency bloat.</p>"},{"location":"library/providers/#omnivault-aws","title":"omnivault-aws","text":"<p>AWS Secrets Manager and Parameter Store:</p> <pre><code>go get github.com/agentplexus/omnivault-aws\n</code></pre> <pre><code>import aws \"github.com/agentplexus/omnivault-aws\"\n\n// AWS Secrets Manager\nsmProvider, _ := aws.NewSecretsManager(aws.Config{\n    Region: \"us-east-1\",\n})\n\n// AWS Parameter Store (SSM)\nssmProvider, _ := aws.NewParameterStore(aws.Config{\n    Region: \"us-east-1\",\n})\n\nresolver.Register(\"aws-sm\", smProvider)\nresolver.Register(\"aws-ssm\", ssmProvider)\n</code></pre> <p>URI Schemes: <code>aws-sm://</code>, <code>aws-ssm://</code></p>"},{"location":"library/providers/#omnivault-keyring","title":"omnivault-keyring","text":"<p>OS-level keyring integration:</p> <pre><code>go get github.com/agentplexus/omnivault-keyring\n</code></pre> <pre><code>import \"github.com/agentplexus/omnivault-keyring\"\n\nprovider := keyring.New(keyring.Config{\n    ServiceName: \"myapp\",\n})\n\nresolver.Register(\"keyring\", provider)\n</code></pre> <p>Supported backends:</p> <ul> <li>macOS Keychain</li> <li>Windows Credential Manager</li> <li>Linux Secret Service (GNOME Keyring, KWallet)</li> </ul> <p>URI Scheme: <code>keyring://</code></p>"},{"location":"library/providers/#community-providers","title":"Community Providers","text":"<p>External providers can be developed as separate Go modules:</p> Category Potential Providers Password Managers 1Password, Bitwarden, LastPass, KeePass, pass/gopass Cloud GCP Secret Manager, Azure Key Vault, DigitalOcean Enterprise HashiCorp Vault, CyberArk Conjur, Akeyless, Doppler"},{"location":"library/providers/#provider-capabilities","title":"Provider Capabilities","text":"<p>Query what a provider supports:</p> <pre><code>caps := provider.Capabilities()\n\nfmt.Printf(\"Read: %v\\n\", caps.Read)\nfmt.Printf(\"Write: %v\\n\", caps.Write)\nfmt.Printf(\"Delete: %v\\n\", caps.Delete)\nfmt.Printf(\"List: %v\\n\", caps.List)\nfmt.Printf(\"Binary: %v\\n\", caps.Binary)\nfmt.Printf(\"MultiField: %v\\n\", caps.MultiField)\n</code></pre>"},{"location":"library/providers/#provider-selection-guide","title":"Provider Selection Guide","text":"Use Case Recommended Provider Local development <code>env</code>, <code>memory</code> CI/CD pipelines <code>env</code>, <code>aws-ssm</code> Production (AWS) <code>aws-sm</code> Desktop apps <code>keyring</code> Testing <code>memory</code> Kubernetes <code>file</code> (with mounted secrets)"},{"location":"library/quickstart/","title":"Library Quick Start","text":"<p>This guide shows you how to use OmniVault as a Go library to access secrets from various providers.</p>"},{"location":"library/quickstart/#basic-usage","title":"Basic Usage","text":"<pre><code>package main\n\nimport (\n    \"context\"\n    \"fmt\"\n    \"log\"\n\n    \"github.com/agentplexus/omnivault\"\n)\n\nfunc main() {\n    ctx := context.Background()\n\n    // Create client with environment variable provider\n    client, err := omnivault.NewClient(omnivault.Config{\n        Provider: omnivault.ProviderEnv,\n    })\n    if err != nil {\n        log.Fatal(err)\n    }\n    defer client.Close()\n\n    // Get a secret\n    secret, err := client.Get(ctx, \"API_KEY\")\n    if err != nil {\n        log.Fatal(err)\n    }\n    fmt.Println(\"API Key:\", secret.Value)\n}\n</code></pre>"},{"location":"library/quickstart/#multi-provider-resolution","title":"Multi-Provider Resolution","text":"<p>Use the resolver to access secrets from multiple providers using URIs:</p> <pre><code>package main\n\nimport (\n    \"context\"\n    \"fmt\"\n\n    \"github.com/agentplexus/omnivault\"\n    \"github.com/agentplexus/omnivault/providers/env\"\n    \"github.com/agentplexus/omnivault/providers/memory\"\n)\n\nfunc main() {\n    ctx := context.Background()\n\n    // Create resolver with multiple providers\n    resolver := omnivault.NewResolver()\n    resolver.Register(\"env\", env.New())\n    resolver.Register(\"memory\", memory.NewWithSecrets(map[string]string{\n        \"database/password\": \"secret123\",\n    }))\n\n    // Resolve secrets from different providers using URIs\n    apiKey, _ := resolver.Resolve(ctx, \"env://API_KEY\")\n    dbPass, _ := resolver.Resolve(ctx, \"memory://database/password\")\n\n    fmt.Println(\"API Key:\", apiKey)\n    fmt.Println(\"DB Password:\", dbPass)\n}\n</code></pre>"},{"location":"library/quickstart/#using-external-providers","title":"Using External Providers","text":"<p>Install and use official provider modules:</p> <pre><code>package main\n\nimport (\n    \"context\"\n    \"fmt\"\n\n    \"github.com/agentplexus/omnivault\"\n    aws \"github.com/agentplexus/omnivault-aws\"\n    \"github.com/agentplexus/omnivault-keyring\"\n)\n\nfunc main() {\n    ctx := context.Background()\n\n    // Create providers\n    awsProvider, _ := aws.NewSecretsManager(aws.Config{Region: \"us-east-1\"})\n    keyringProvider := keyring.New(keyring.Config{ServiceName: \"myapp\"})\n\n    // Multi-provider resolver\n    resolver := omnivault.NewResolver()\n    resolver.Register(\"aws-sm\", awsProvider)\n    resolver.Register(\"keyring\", keyringProvider)\n\n    // Resolve from AWS Secrets Manager\n    dbCreds, _ := resolver.Resolve(ctx, \"aws-sm://prod/database\")\n\n    // Resolve from OS keyring\n    localToken, _ := resolver.Resolve(ctx, \"keyring://dev/api-token\")\n\n    fmt.Println(\"DB Credentials:\", dbCreds)\n    fmt.Println(\"Local Token:\", localToken)\n}\n</code></pre>"},{"location":"library/quickstart/#working-with-secrets","title":"Working with Secrets","text":"<p>Secrets can contain a primary value, multiple fields, and metadata:</p> <pre><code>// Create a secret with fields\nsecret := &amp;omnivault.Secret{\n    Value: \"primary-value\",\n    Fields: map[string]string{\n        \"username\": \"admin\",\n        \"password\": \"secret123\",\n    },\n    Metadata: omnivault.Metadata{\n        Tags: map[string]string{\n            \"env\": \"production\",\n        },\n    },\n}\n\n// Store the secret\nerr := client.Set(ctx, \"database/credentials\", secret)\n\n// Retrieve and access values\nretrieved, _ := client.Get(ctx, \"database/credentials\")\nfmt.Println(retrieved.String())              // Primary value\nfmt.Println(retrieved.GetField(\"username\"))  // Specific field\nfmt.Println(retrieved.Bytes())               // As bytes\n</code></pre>"},{"location":"library/quickstart/#next-steps","title":"Next Steps","text":"<ul> <li>Client API - Full client API reference</li> <li>URI Resolver - URI-based secret resolution</li> <li>Providers - Available providers</li> <li>Custom Providers - Create your own provider</li> </ul>"},{"location":"library/resolver/","title":"URI Resolver","text":"<p>The resolver enables accessing secrets from multiple providers using URI syntax.</p>"},{"location":"library/resolver/#uri-format","title":"URI Format","text":"<pre><code>scheme://path[#field]\n</code></pre> Component Description Example <code>scheme</code> Provider identifier <code>env</code>, <code>aws-sm</code>, <code>keyring</code> <code>path</code> Secret path <code>API_KEY</code>, <code>prod/database</code> <code>field</code> Optional field name <code>#password</code>"},{"location":"library/resolver/#examples","title":"Examples","text":"<pre><code>env://API_KEY                    # Environment variable\nfile:///path/to/secret           # File\nmemory://database/password       # In-memory\naws-sm://prod/database#password  # AWS Secrets Manager with field\nkeyring://myapp/token            # OS keyring\n</code></pre>"},{"location":"library/resolver/#creating-a-resolver","title":"Creating a Resolver","text":"<pre><code>resolver := omnivault.NewResolver()\n\n// Register providers with scheme names\nresolver.Register(\"env\", env.New())\nresolver.Register(\"memory\", memory.New())\nresolver.Register(\"aws-sm\", awsProvider)\n</code></pre>"},{"location":"library/resolver/#resolving-secrets","title":"Resolving Secrets","text":""},{"location":"library/resolver/#resolve","title":"Resolve","text":"<p>Get the string value of a secret:</p> <pre><code>value, err := resolver.Resolve(ctx, \"env://API_KEY\")\n</code></pre>"},{"location":"library/resolver/#resolvesecret","title":"ResolveSecret","text":"<p>Get the full secret object:</p> <pre><code>secret, err := resolver.ResolveSecret(ctx, \"aws-sm://prod/database\")\n\n// Access fields\nusername := secret.GetField(\"username\")\npassword := secret.GetField(\"password\")\n</code></pre>"},{"location":"library/resolver/#resolvestring","title":"ResolveString","text":"<p>Resolve if it's a URI, otherwise return as-is:</p> <pre><code>// If input is a URI, resolves it\n// If input is a plain string, returns it unchanged\nvalue, err := resolver.ResolveString(ctx, maybeSecretRef)\n</code></pre> <p>This is useful when a value might be either a literal or a secret reference:</p> <pre><code>config := map[string]string{\n    \"api_key\":  \"env://API_KEY\",      // Will be resolved\n    \"timeout\":  \"30s\",                 // Returned as-is\n}\n\nfor key, val := range config {\n    resolved, _ := resolver.ResolveString(ctx, val)\n    // Use resolved value\n}\n</code></pre>"},{"location":"library/resolver/#resolvemap","title":"ResolveMap","text":"<p>Resolve all values in a map:</p> <pre><code>config := map[string]string{\n    \"database_url\": \"aws-sm://prod/database#url\",\n    \"api_key\":      \"env://API_KEY\",\n    \"timeout\":      \"30s\",\n}\n\nresolved, err := resolver.ResolveMap(ctx, config)\n// resolved[\"database_url\"] = actual database URL\n// resolved[\"api_key\"] = actual API key\n// resolved[\"timeout\"] = \"30s\" (unchanged)\n</code></pre>"},{"location":"library/resolver/#provider-registration","title":"Provider Registration","text":""},{"location":"library/resolver/#static-registration","title":"Static Registration","text":"<p>Register providers at startup:</p> <pre><code>resolver := omnivault.NewResolver()\nresolver.Register(\"env\", env.New())\nresolver.Register(\"aws-sm\", awsProvider)\n</code></pre>"},{"location":"library/resolver/#dynamic-registration","title":"Dynamic Registration","text":"<p>Add providers at runtime:</p> <pre><code>// Add a new provider\nresolver.Register(\"vault\", hashicorpVaultProvider)\n\n// Check if a scheme is registered\nif resolver.HasScheme(\"vault\") {\n    // Provider is available\n}\n</code></pre>"},{"location":"library/resolver/#error-handling","title":"Error Handling","text":"<pre><code>value, err := resolver.Resolve(ctx, \"unknown://secret\")\nif err != nil {\n    // Could be:\n    // - Unknown scheme\n    // - Secret not found\n    // - Provider error\n}\n</code></pre>"},{"location":"library/resolver/#use-cases","title":"Use Cases","text":""},{"location":"library/resolver/#configuration-loading","title":"Configuration Loading","text":"<pre><code>type Config struct {\n    DatabaseURL string `json:\"database_url\"`\n    APIKey      string `json:\"api_key\"`\n    Debug       bool   `json:\"debug\"`\n}\n\nfunc LoadConfig(resolver *omnivault.Resolver) (*Config, error) {\n    // Load raw config (might contain secret references)\n    raw := loadRawConfig()\n\n    // Resolve secrets\n    dbURL, err := resolver.ResolveString(ctx, raw.DatabaseURL)\n    if err != nil {\n        return nil, err\n    }\n\n    apiKey, err := resolver.ResolveString(ctx, raw.APIKey)\n    if err != nil {\n        return nil, err\n    }\n\n    return &amp;Config{\n        DatabaseURL: dbURL,\n        APIKey:      apiKey,\n        Debug:       raw.Debug,\n    }, nil\n}\n</code></pre>"},{"location":"library/resolver/#environment-based-provider-selection","title":"Environment-Based Provider Selection","text":"<pre><code>func setupResolver(env string) *omnivault.Resolver {\n    resolver := omnivault.NewResolver()\n\n    switch env {\n    case \"production\":\n        awsProvider, _ := aws.NewSecretsManager(aws.Config{\n            Region: \"us-east-1\",\n        })\n        resolver.Register(\"secrets\", awsProvider)\n\n    case \"development\":\n        resolver.Register(\"secrets\", env.New())\n    }\n\n    return resolver\n}\n</code></pre>"},{"location":"releases/v0.1.0/","title":"Release Notes - v0.1.0","text":"<p>Release Date: 2025-01-01</p> <p>Initial release of OmniVault, a unified Go library for secret management across multiple providers.</p>"},{"location":"releases/v0.1.0/#highlights","title":"Highlights","text":"<ul> <li>Unified Interface: Single <code>vault.Vault</code> interface for all secret storage backends</li> <li>Extensible Architecture: Add custom providers as separate Go modules</li> <li>URI-Based Resolution: Reference secrets using URIs like <code>env://API_KEY</code> or <code>aws-sm://secret-name</code></li> <li>Zero External Dependencies: Core library requires only the Go standard library</li> </ul>"},{"location":"releases/v0.1.0/#features","title":"Features","text":""},{"location":"releases/v0.1.0/#core-interface-vaultvault","title":"Core Interface (<code>vault.Vault</code>)","text":"<p>A unified interface for secret management with full CRUD operations:</p> <pre><code>type Vault interface {\n    Get(ctx context.Context, path string) (*Secret, error)\n    Set(ctx context.Context, path string, secret *Secret) error\n    Delete(ctx context.Context, path string) error\n    Exists(ctx context.Context, path string) (bool, error)\n    List(ctx context.Context, prefix string) ([]string, error)\n    Name() string\n    Capabilities() Capabilities\n    Close() error\n}\n</code></pre>"},{"location":"releases/v0.1.0/#built-in-providers","title":"Built-in Providers","text":"Provider Scheme Description Environment Variables <code>env://</code> Read from <code>os.Getenv()</code> File <code>file://</code> File-based storage Memory <code>memory://</code> In-memory storage (for testing)"},{"location":"releases/v0.1.0/#client-api","title":"Client API","text":"<p>High-level client with convenience methods:</p> <pre><code>// Create client\nclient, err := omnivault.NewClient(omnivault.Config{\n    Provider: omnivault.ProviderEnv,\n})\n\n// Basic operations\nsecret, err := client.Get(ctx, \"path\")\nerr := client.Set(ctx, \"path\", &amp;omnivault.Secret{Value: \"secret\"})\nerr := client.Delete(ctx, \"path\")\nexists, err := client.Exists(ctx, \"path\")\npaths, err := client.List(ctx, \"prefix\")\n\n// Convenience methods\nvalue, err := client.GetValue(ctx, \"path\")\nvalue, err := client.GetField(ctx, \"path\", \"field\")\nerr := client.SetValue(ctx, \"path\", \"value\")\n\n// Must variants (panic on error)\nsecret := client.MustGet(ctx, \"path\")\nvalue := client.MustGetValue(ctx, \"path\")\n</code></pre>"},{"location":"releases/v0.1.0/#uri-based-resolution","title":"URI-Based Resolution","text":"<p>Resolve secrets from multiple providers using URIs:</p> <pre><code>resolver := omnivault.NewResolver()\nresolver.Register(\"env\", envProvider)\nresolver.Register(\"aws-sm\", awsProvider)\n\n// Resolve from different providers\napiKey, _ := resolver.Resolve(ctx, \"env://API_KEY\")\ndbPass, _ := resolver.Resolve(ctx, \"aws-sm://database/password\")\n\n// Resolve if it's a secret reference, otherwise return as-is\nvalue, _ := resolver.ResolveString(ctx, maybeSecretRef)\n\n// Resolve all values in a map\nresolved, _ := resolver.ResolveMap(ctx, configMap)\n</code></pre>"},{"location":"releases/v0.1.0/#secret-model","title":"Secret Model","text":"<p>Rich secret model with metadata support:</p> <pre><code>secret := &amp;omnivault.Secret{\n    Value: \"my-secret-value\",\n    Fields: map[string]string{\n        \"username\": \"admin\",\n        \"password\": \"secret\",\n    },\n    Metadata: omnivault.Metadata{\n        Tags: map[string]string{\"env\": \"prod\"},\n    },\n}\n\n// Access values\nvalue := secret.String()              // Primary value\nfield := secret.GetField(\"username\")  // Specific field\nbytes := secret.Bytes()               // As bytes\n</code></pre>"},{"location":"releases/v0.1.0/#extensible-provider-architecture","title":"Extensible Provider Architecture","text":"<p>Create custom providers as separate Go modules:</p> <pre><code>package myprovider\n\nimport \"github.com/agentplexus/omnivault/vault\"\n\ntype Provider struct{}\n\nfunc New() vault.Vault {\n    return &amp;Provider{}\n}\n\n// Implement vault.Vault interface...\n</code></pre> <p>Use with OmniVault:</p> <pre><code>client, _ := omnivault.NewClient(omnivault.Config{\n    CustomVault: myprovider.New(),\n})\n</code></pre>"},{"location":"releases/v0.1.0/#package-structure","title":"Package Structure","text":"<pre><code>omnivault/\n\u251c\u2500\u2500 vault/              # Core interface (import for custom providers)\n\u2502   \u251c\u2500\u2500 interface.go    # Vault interface definition\n\u2502   \u251c\u2500\u2500 types.go        # Secret, Metadata, SecretRef types\n\u2502   \u2514\u2500\u2500 errors.go       # Standard errors\n\u251c\u2500\u2500 providers/          # Built-in providers\n\u2502   \u251c\u2500\u2500 env/            # Environment variables\n\u2502   \u251c\u2500\u2500 file/           # File-based storage\n\u2502   \u2514\u2500\u2500 memory/         # In-memory storage\n\u251c\u2500\u2500 client.go           # Main client\n\u251c\u2500\u2500 resolver.go         # URI-based resolution\n\u2514\u2500\u2500 types.go            # Type aliases\n</code></pre>"},{"location":"releases/v0.1.0/#official-provider-modules","title":"Official Provider Modules","text":"<p>First-party provider modules (separate repositories):</p> Module Providers Schemes omnivault-aws AWS Secrets Manager, AWS Parameter Store <code>aws-sm://</code>, <code>aws-ssm://</code> omnivault-keyring macOS Keychain, Windows Credential Manager, Linux Secret Service <code>keyring://</code>"},{"location":"releases/v0.1.0/#installation","title":"Installation","text":"<pre><code>go get github.com/agentplexus/omnivault\n</code></pre>"},{"location":"releases/v0.1.0/#requirements","title":"Requirements","text":"<ul> <li>Go 1.22.0 or later</li> </ul>"},{"location":"releases/v0.2.0/","title":"Release Notes - v0.2.0","text":"<p>Release Date: 2026-01-10</p> <p>This release introduces the OmniVault CLI tool with encrypted local storage and a daemon architecture for secure secret management.</p>"},{"location":"releases/v0.2.0/#highlights","title":"Highlights","text":"<ul> <li>CLI Tool: Full-featured command-line interface for local secret management</li> <li>Encrypted Storage: AES-256-GCM encryption with Argon2id key derivation</li> <li>Daemon Architecture: Background service with Unix socket IPC for secure operations</li> <li>Auto-Lock: Configurable inactivity timeout for enhanced security</li> </ul>"},{"location":"releases/v0.2.0/#new-features","title":"New Features","text":""},{"location":"releases/v0.2.0/#cli-tool-cmdomnivault","title":"CLI Tool (<code>cmd/omnivault</code>)","text":"<p>A complete command-line interface for managing secrets locally:</p> <pre><code># Initialize and use the vault\nomnivault daemon start\nomnivault init\nomnivault set database/password\nomnivault get database/password\nomnivault list\nomnivault lock\n</code></pre> <p>Vault Commands:</p> <ul> <li><code>omnivault init</code> - Initialize a new vault with master password</li> <li><code>omnivault unlock</code> - Unlock the vault</li> <li><code>omnivault lock</code> - Lock the vault</li> <li><code>omnivault status</code> - Show vault and daemon status</li> </ul> <p>Secret Commands:</p> <ul> <li><code>omnivault get &lt;path&gt;</code> - Retrieve a secret</li> <li><code>omnivault set &lt;path&gt; [value]</code> - Store a secret (prompts if value not provided)</li> <li><code>omnivault list [prefix]</code> - List secrets</li> <li><code>omnivault delete &lt;path&gt;</code> - Delete a secret</li> </ul> <p>Daemon Commands:</p> <ul> <li><code>omnivault daemon start</code> - Start background daemon</li> <li><code>omnivault daemon stop</code> - Stop daemon</li> <li><code>omnivault daemon status</code> - Show daemon status</li> <li><code>omnivault daemon run</code> - Run in foreground (debugging)</li> </ul>"},{"location":"releases/v0.2.0/#encrypted-store-internalstore","title":"Encrypted Store (<code>internal/store</code>)","text":"<p>Secure local storage implementing the <code>vault.Vault</code> interface:</p> <ul> <li>AES-256-GCM authenticated encryption</li> <li>Argon2id key derivation (OWASP-recommended parameters)</li> <li>Password verification with constant-time comparison</li> <li>Master password change with re-encryption of all secrets</li> </ul>"},{"location":"releases/v0.2.0/#daemon-server-internaldaemon","title":"Daemon Server (<code>internal/daemon</code>)","text":"<p>Background service for secure vault operations:</p> <ul> <li>HTTP over Unix socket (<code>~/.omnivault/omnivaultd.sock</code>)</li> <li>RESTful API for all vault operations</li> <li>Auto-lock after configurable inactivity (default: 15 minutes)</li> <li>Graceful shutdown with vault locking</li> <li>PID file management</li> </ul>"},{"location":"releases/v0.2.0/#daemon-client-internalclient","title":"Daemon Client (<code>internal/client</code>)","text":"<p>Go client library for daemon IPC:</p> <ul> <li>Unix socket transport</li> <li>Structured error handling with error codes</li> <li>Connection pooling with timeouts</li> </ul>"},{"location":"releases/v0.2.0/#platform-support","title":"Platform Support","text":"<ul> <li>macOS/Linux: Unix socket at <code>~/.omnivault/omnivaultd.sock</code></li> <li>Windows: TCP fallback (named pipe support planned)</li> </ul>"},{"location":"releases/v0.2.0/#security","title":"Security","text":""},{"location":"releases/v0.2.0/#encryption-specifications","title":"Encryption Specifications","text":"Component Specification Algorithm AES-256-GCM Key Derivation Argon2id Argon2 Time 3 iterations Argon2 Memory 64 MB Argon2 Threads 4 Salt Size 32 bytes Nonce Size 12 bytes"},{"location":"releases/v0.2.0/#storage-layout","title":"Storage Layout","text":"<pre><code>~/.omnivault/\n\u251c\u2500\u2500 vault.enc           # Encrypted secrets\n\u251c\u2500\u2500 vault.meta          # Salt and Argon2 parameters\n\u251c\u2500\u2500 omnivaultd.sock     # Unix socket (runtime)\n\u2514\u2500\u2500 omnivaultd.pid      # Daemon PID (runtime)\n</code></pre>"},{"location":"releases/v0.2.0/#dependencies","title":"Dependencies","text":"<p>New dependencies added:</p> <ul> <li><code>golang.org/x/crypto</code> - Argon2id key derivation</li> <li><code>golang.org/x/term</code> - Secure password input</li> </ul>"},{"location":"releases/v0.2.0/#breaking-changes","title":"Breaking Changes","text":"<p>None. This release adds new functionality without modifying the existing library API.</p>"},{"location":"releases/v0.2.0/#upgrade-guide","title":"Upgrade Guide","text":"<p>No changes required for existing library users. The CLI tool is an optional addition.</p> <p>To use the CLI:</p> <pre><code>go install github.com/agentplexus/omnivault/cmd/omnivault@v0.2.0\nomnivault daemon start\nomnivault init\n</code></pre>"}]}