# OmniVault Roadmap

This roadmap documents planned and completed features for this project.

The format is based on and generated by [Structured Roadmap](https://github.com/grokify/structured-roadmap), which provides a machine-readable JSON intermediate representation with deterministic Markdown generation.

## Overview

| Item | Status | Priority | Area |
|------|--------|----------|------|
| [AES-256-GCM encryption with Argon2id key derivation](#crypto) | âœ… | High | Security |
| [Built-in providers (env, file, memory)](#builtin-providers) | âœ… | High | Providers |
| [CLI entrypoint](#cli-main) | âœ… | High | CLI |
| [Core `vault.Vault` interface](#vault-interface) | âœ… | High | Core Library |
| [Daemon control commands](#cli-daemon) | âœ… | High | CLI |
| [Encrypted file store implementing `vault.Vault`](#encrypted-store) | âœ… | High | Security |
| [External provider module architecture](#provider-arch) | âœ… | High | Providers |
| [HTTP server over Unix socket](#server) | âœ… | High | Daemon |
| [IPC protocol definitions](#protocol) | âœ… | High | Daemon |
| [Lock/unlock session management](#session-mgmt) | âœ… | High | Daemon |
| [Master password protection](#master-password) | âœ… | High | Security |
| [Platform-specific paths (~/.omnivault/)](#paths) | âœ… | High | Daemon |
| [Secret commands (get, set, list, delete)](#cli-secrets) | âœ… | High | CLI |
| [URI-based resolver](#uri-resolver) | âœ… | High | Core Library |
| [Unix socket client](#client) | âœ… | High | Client |
| [Vault commands (init, lock, unlock, status)](#cli-vault) | âœ… | High | CLI |
| [Configurable auto-lock timeout](#auto-lock) | âœ… | Medium | Security |
| [omnivault-aws provider module](#omnivault-aws) | âœ… | Medium | Providers |
| [omnivault-keyring provider module](#omnivault-keyring) | âœ… | Medium | Providers |
| [Secret list UI](#swift-ui) | ðŸ“‹ | High | UI |
| [Swift Unix socket client](#swift-client) | ðŸ“‹ | High | UI |
| [Swift models for secret info and vault status](#swift-models) | ðŸ“‹ | High | UI |
| [Swift state management](#swift-manager) | ðŸ“‹ | High | UI |
| [Add/edit secret UI](#swift-edit-ui) | ðŸ“‹ | Medium | UI |
| [Automatic daemon startup on first use](#auto-start) | ðŸ“‹ | Medium | Client |
| [Lock/unlock UI](#swift-lock-ui) | ðŸ“‹ | Medium | UI |
| [Connection pooling](#connection-pool) | ðŸ“‹ | Low | Client |

---

## Overview <a href="#omnivault-roadmap">â†‘ Top</a>

OmniVault is a unified Go library for secret management. This roadmap covers the evolution from a library to a complete local secret management solution with daemon and CLI.

---

## Core Library <a href="#omnivault-roadmap">â†‘ Top</a>

<a id="vault-interface"></a>

### [x] Core `vault.Vault` interface

**Version:** v0.1.0

<a id="uri-resolver"></a>

### [x] URI-based resolver

**Version:** v0.1.0

---

## Providers <a href="#omnivault-roadmap">â†‘ Top</a>

<a id="builtin-providers"></a>

### [x] Built-in providers (env, file, memory)

**Version:** v0.1.0

<a id="provider-arch"></a>

### [x] External provider module architecture

**Version:** v0.1.0

<a id="omnivault-aws"></a>

### [x] omnivault-aws provider module

**Version:** v0.1.0

<a id="omnivault-keyring"></a>

### [x] omnivault-keyring provider module

**Version:** v0.1.0

---

## Security <a href="#omnivault-roadmap">â†‘ Top</a>

<a id="crypto"></a>

### [x] AES-256-GCM encryption with Argon2id key derivation

`internal/store/crypto.go`

**Version:** v0.2.0

<a id="encrypted-store"></a>

### [x] Encrypted file store implementing `vault.Vault`

`internal/store/encrypted.go`

**Version:** v0.2.0

<a id="master-password"></a>

### [x] Master password protection

**Version:** v0.2.0

<a id="auto-lock"></a>

### [x] Configurable auto-lock timeout

**Version:** v0.2.0

---

## Daemon <a href="#omnivault-roadmap">â†‘ Top</a>

<a id="server"></a>

### [x] HTTP server over Unix socket

`internal/daemon/server.go`

**Version:** v0.2.0

<a id="protocol"></a>

### [x] IPC protocol definitions

`internal/daemon/protocol.go`

**Version:** v0.2.0

<a id="session-mgmt"></a>

### [x] Lock/unlock session management

**Version:** v0.2.0

<a id="paths"></a>

### [x] Platform-specific paths (~/.omnivault/)

`internal/config/paths.go`

**Version:** v0.2.0

---

## CLI <a href="#omnivault-roadmap">â†‘ Top</a>

<a id="cli-main"></a>

### [x] CLI entrypoint

`cmd/omnivault/main.go`

**Version:** v0.2.0

<a id="cli-daemon"></a>

### [x] Daemon control commands

`cmd/omnivault/daemon.go`

**Version:** v0.2.0

<a id="cli-secrets"></a>

### [x] Secret commands (get, set, list, delete)

`cmd/omnivault/secrets.go`

**Version:** v0.2.0

<a id="cli-vault"></a>

### [x] Vault commands (init, lock, unlock, status)

`cmd/omnivault/init.go`

**Version:** v0.2.0

---

## Client <a href="#omnivault-roadmap">â†‘ Top</a>

<a id="client"></a>

### [x] Unix socket client

`internal/client/client.go`

**Version:** v0.2.0

<a id="auto-start"></a>

### [ ] Automatic daemon startup on first use

<a id="connection-pool"></a>

### [ ] Connection pooling

---

## UI <a href="#omnivault-roadmap">â†‘ Top</a>

<a id="swift-ui"></a>

### [ ] Secret list UI

`VaultView.swift`

<a id="swift-client"></a>

### [ ] Swift Unix socket client

`VaultDaemonClient.swift`

<a id="swift-models"></a>

### [ ] Swift models for secret info and vault status

`VaultModels.swift`

<a id="swift-manager"></a>

### [ ] Swift state management

`VaultManager.swift`

<a id="swift-edit-ui"></a>

### [ ] Add/edit secret UI

<a id="swift-lock-ui"></a>

### [ ] Lock/unlock UI

---

## Daemon API <a href="#omnivault-roadmap">â†‘ Top</a>

| Endpoint | Method | Description |
|--------|--------|--------|
| `/status` | GET | Daemon status (running, locked, secret count) |
| `/secrets` | GET | List all secrets (metadata only) |
| `/secret/:path` | GET | Get secret value |
| `/secret/:path` | PUT | Set secret |
| `/secret/:path` | DELETE | Delete secret |
| `/lock` | POST | Lock the vault |
| `/unlock` | POST | Unlock with master password |

## Socket Path <a href="#omnivault-roadmap">â†‘ Top</a>

| Platform | Path |
|--------|--------|
| macOS/Linux | `~/.omnivault/omnivaultd.sock` |
| Windows | `\\.\pipe\omnivault` |

## CLI Commands <a href="#omnivault-roadmap">â†‘ Top</a>

```bash
# Vault initialization
omnivault init                    # Initialize new vault with master password

# Secret operations
omnivault set <path> [value]      # Set secret (prompts if no value)
omnivault get <path>              # Get secret value
omnivault list [prefix]           # List secrets
omnivault delete <path>           # Delete secret

# Vault control
omnivault lock                    # Lock the vault
omnivault unlock                  # Unlock with master password
omnivault status                  # Show vault status

# Daemon control
omnivault daemon start            # Start daemon
omnivault daemon stop             # Stop daemon
omnivault daemon status           # Daemon status
```

## Security Model <a href="#omnivault-roadmap">â†‘ Top</a>

### Encryption

- **Algorithm**: AES-256-GCM (authenticated encryption)
- **Key Derivation**: Argon2id (memory-hard, resistant to GPU attacks)
- **Salt**: Random 32 bytes per vault
- **Nonce**: Random 12 bytes per secret

### Master Password

- Never stored, only used to derive encryption key
- Minimum 8 characters enforced
- Session-based unlock with configurable timeout

### Storage

- Encrypted vault file: `~/.omnivault/vault.enc`
- Metadata stored separately: `~/.omnivault/vault.meta`
- No plaintext secrets on disk

## Data Format <a href="#omnivault-roadmap">â†‘ Top</a>

### Vault File Structure

```
~/.omnivault/
â”œâ”€â”€ vault.enc           # Encrypted secrets (AES-256-GCM)
â”œâ”€â”€ vault.meta          # Unencrypted metadata (salt, created date)
â”œâ”€â”€ omnivaultd.sock     # Unix socket (runtime)
â””â”€â”€ omnivaultd.pid      # Daemon PID file (runtime)
```

### Secret Metadata (in vault.meta)

```json
{
  "version": 1,
  "created_at": "2024-01-01T00:00:00Z",
  "salt": "base64-encoded-salt",
  "argon2_params": {
    "time": 3,
    "memory": 65536,
    "threads": 4
  }
}
```

---

## Version History <a href="#omnivault-roadmap">â†‘ Top</a>

| Version | Date | Status | Summary |
|---------|------|--------|--------|
| v0.2.0 | 2026-01-10 | âœ… | CLI, daemon, encrypted store |
| v0.1.0 | 2025-01-01 | âœ… | Core library with providers |
